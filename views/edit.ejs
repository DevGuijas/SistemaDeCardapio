<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Editar Prato - Rancho do Cupim</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Special+Elite&display=swap" rel="stylesheet">
    <style>
        :root { --madeira: #3d2b1f; --papel: #f4e4bc; --detalhe: #8b0000; }
        body { background-color: var(--madeira); background-image: url('https://www.transparenttextures.com/patterns/dark-wood.png'); font-family: 'Special Elite', cursive; display: flex; justify-content: center; padding: 40px; }
        .edit-container { background-color: var(--papel); padding: 30px; width: 100%; max-width: 500px; border: 5px solid #d2b48c; height: fit-content; }
        label { display: block; margin: 10px 0 5px; color: var(--madeira); font-weight: bold; }
        input, textarea, select { width: 100%; padding: 10px; border: 1px solid #b5a47a; box-sizing: border-box; font-family: 'Special Elite'; }
        .btn-update { background-color: #2d5a27; color: white; padding: 15px; border: none; width: 100%; cursor: pointer; margin-top: 20px; font-weight: bold; }
    </style>
</head>
<body>
    <div class="edit-container">
        <h2 style="text-align: center; color: var(--madeira);">Alterar Item</h2>
        <form action="/admin/edit/<%= item.id %>?_method=PUT" method="POST" enctype="multipart/form-data">
            
            <label>Imagem Atual:</label>
            <img src="/uploads/<%= item.imagem %>" style="width: 100%; height: 150px; object-fit: cover; border: 2px solid var(--madeira);">
            
            <label>Nova Foto (opcional):</label>
            <input type="file" name="foto">

            <label>Título:</label>
            <input type="text" name="titulo" value="<%= item.titulo %>" required>

            <label>Categoria:</label>
            <select name="categoria">
                <option value="Carnes" <%= item.categoria === 'Carnes' ? 'selected' : '' %>>Carnes</option>
                <option value="Acompanhamentos" <%= item.categoria === 'Acompanhamentos' ? 'selected' : '' %>>Acompanhamentos</option>
                <option value="Bebidas" <%= item.categoria === 'Bebidas' ? 'selected' : '' %>>Bebidas</option>
            </select>

            <label>Descrição:</label>
            <textarea name="descricao" rows="3" required><%= item.descricao %></textarea>

            <label>Preço (R$):</label>
            <input type="number" name="preco" step="0.01" value="<%= item.preco %>" required>

            <button type="submit" class="btn-update">SALVAR ALTERAÇÕES</button>
        </form>
        <a href="/admin" style="display: block; text-align: center; margin-top: 15px; color: var(--detalhe);">Cancelar</a>
    </div>
</body>
</html>